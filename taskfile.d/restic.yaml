version: '3'

tasks:

  backup:windows:
    desc: "Backup Windows ${RESTIC_REPOSITORY RESTIC_PASSWORD}"
    cmds:
      - >
        restic backup
        -v
        --no-lock
        --no-scan
        -H win10
        --tag daily,win10
        'D:/apps'
        'D:/.home'
        'C:/Users/{{.USERNAME}}/AppData/Roaming/Microsoft/VisualStudio/'
        'C:/Users/{{.USERNAME}}/AppData/Roaming/Microsoft/Windows/PowerShell/'
        'C:/Users/{{.USERNAME}}/AppData/Roaming/Microsoft/Windows/Start Menu/'
        'C:/ProgramData/Microsoft/Windows/Start Menu/'
        --iexclude '.import_linter_cache/'
        --iexclude '.mypy_cache/'
        --iexclude '.pdm-build/'
        --iexclude '.ruff_cache/'
        --iexclude '.venv/'
        --iexclude '__pycache__/'
        --iexclude '__pypackages__/'
        --iexclude 'Lib/site-packages/'
        --iexclude 'virtualenvwrapper/*'
        --iexclude 'pipx/.cache/'
        --iexclude 'pipx/venvs/'
        --iexclude '.gradle/'
        --iexclude '.tmp/'
        --iexclude 'node_modules/'
        --iexclude 'yarn/*/cache/*'
        --iexclude 'yarn/*/mirror/*'
        --iexclude 'Cache/Cache_Data/'
        --iexclude 'PackageCache/'
        --iexclude 'go/bin/'
        --iexclude 'go/pkg/'
        --iexclude 'micromamba/pkgs/'
        --iexclude 'VirtualBox VMs/'
        --iexclude 'desktop.ini'
        --iexclude 'AppData/Local/cache/'
        --iexclude 'AppData/Local/conda/'
        --iexclude 'AppData/Local/D3DSCache/'
        --iexclude 'AppData/Local/DBeaver/'
        --iexclude 'AppData/Local/Docker/'
        --iexclude 'AppData/Local/Docker Desktop Installer/'
        --iexclude 'AppData/Local/EevisionDownload/'
        --iexclude 'AppData/Local/electron/'
        --iexclude 'AppData/Local/electron-builder/'
        --iexclude 'AppData/LocalLow/Temp/'
        --iexclude '.local/share/wezterm/gui-sock*'
        --iexclude '.cache/'
        --iexclude '.bgmi/bangumi/'
        --iexclude '.bgmi/tmp/'
        --iexclude '.emacs.d/.cache/'
        --iexclude '.lingma/'
        --iexclude 'GPUCache/'
        --iexclude 'Typora/Cache/'
        --iexclude 'Typora/Code Cache/'
        --iexclude 'Typora/GPUCache/'
        --iexclude 'Mega Limited/MEGAsync/logs/'
        --iexclude 'Mega Limited/MEGAsync/update/'
        --iexclude 'YACReader/*/Cache/'
        --iexclude 'thprac/crashdump/'
        --iexclude 'PDFelement 7/AutoSave/'
        --iexclude 'PDFelement 7/Log/'
        --iexclude 'Adobe Dreamweaver CC 2018 Portable/Data/'
        --iexclude 'CloudMusic/Netease/CloudMusic/*/'
        --iexclude 'Ditto/Ditto.db'
        --iexclude 'Emby/programdata/cache/'
        --iexclude 'Emby Theater/cache/'
        --iexclude 'FSViewer/FSViewer.db'
        --iexclude 'MPV/portable_config/*cache/'
        --iexclude 'mpvnet/portable_config/*cache/'
        --iexclude 'MeGUI/update_cache/*'
        --iexclude 'obsidian/DawnCache/'
        --iexclude 'RunningCheese_Firefox*/Cache/'
        --iexclude 'Rime/build/'
        --iexclude 'scoop/cache/*'
        --iexclude 'apps/scoop/apps/*'
        --iexclude 'bitwarden-appdata/'
        --iexclude 'centbrowser/User Data/Default/Cache/*'
        --iexclude 'centbrowser/User Data/Default/Code Cache/*'
        --iexclude 'everything/*/Everything.db'
        --iexclude 'Everything.db'
        --iexclude '.cargo/registry/*'
        --iexclude 'steamapps/common/'
        --iexclude 'telegram/tdata/user_data*/'
        --iexclude 'virtualbox-with-extension-pack-np/'
        --iexclude 'winfsp-np/'
        --iexclude 'zeal/docsets/'
